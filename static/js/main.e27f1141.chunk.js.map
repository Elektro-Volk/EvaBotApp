{"version":3,"sources":["img/persik.png","utils.js","panels/Main_SendMoneys.js","panels/Home.js","panels/Pets_Pet.js","panels/Pets_Shelder.js","panels/Pets.js","App.js","index.js","apieva.js"],"names":["module","exports","__webpack_require__","p","getTimeString","time","a","Date","year","getFullYear","month","getMonth","getDate","apieva","require","osname","platform","Main_SendMoneys","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","target","params","count","sendMoneys","makeAction","assertThisInitialized","b","error","openSheet","react_default","createElement","vkui","actions","title","autoclose","onClose","close","nickname","update","onTargetChange","e","value","currentTarget","setState","istarget","userScreenName","includes","arr","split","length","send","user_ids","fields","then","r","data","response","user","id","before","photo_200","src","concat","first_name","last_name","_this2","left","onClick","IOS","chevron_back_default","back_default","onChange","placeholder","size","React","Component","Home","popout","onLoaded","bind","onRefresh","makeOnRefresh","content","activePanel","fetching","openBalance","theme","fetchedUser","userProfile","description","indicator","x","balance","toString","replace","job","level","score","maxScore","cSend","isFetching","style","marginTop","href","panels_Main_SendMoneys","userToken","Pets_Pet","feedAction","petId","playAction","wakeUpAction","shelterAction","openRestorePetSheet","actionsLayout","action","pet","isLoaded","_this3","initPets","petType","getPetType","type","result","died","smile","issleep","name","display","stretched","marginRight","owner","hunger","Math","min","love","energy","className","persik","alt","Pets_Shelder","petList","map","openPet","petTypeList","getPetTypes","getPets","mname","Pets","petcontent","panels_Pets_Pet","pets","petsHtml","forEach","petStats","padding","margin","push","add_default","_this4","panels_Pets_Shelder","App","parseQueryString","string","slice","queryParam","kvp","key","reduce","query","getItem","tag","icon","onStoryChange","selected","activeStory","data-story","text","dataset","story","connect","tabbar","user_default","bug_default","panels_Home","panels_Pets","subscribe","detail","schemeAttribute","document","createAttribute","scheme","body","attributes","setNamedItem","console","log","ReactDOM","render","src_App","getElementById","petTypes","group","method","axios","get","window","location","search","substring","cb","_initPets","apply","arguments","_callee","_home_evaclient_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","wrap","_context","prev","next","sent","stop","typeId","th","react__WEBPACK_IMPORTED_MODULE_2___default","_vkontakte_vkui__WEBPACK_IMPORTED_MODULE_3__"],"mappings":"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","file":"static/js/main.e27f1141.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/persik.695e98f0.png\";","export function numberWithCommas(x) {\r\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\r\n}\r\n\r\nexport function getTimeString(time){\r\n  var a = new Date(time * 1000);\r\n  var months = ['Января','Февраля','Марта','Апреля','Мая','Июня','Июля','Августа','Сентября','Октября','Ноября','Декабря'];\r\n  var year = a.getFullYear();\r\n  var month = months[a.getMonth()];\r\n  var date = a.getDate();\r\n  var time = date + ' ' + month + ' ' + year;\r\n  return time;\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { PanelHeader, HeaderButton, Alert, Div, Input, Spinner, FormLayout, Group, Cell, Avatar, CellButton, platform, IOS } from '@vkontakte/vkui';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nimport connect from '@vkontakte/vkui-connect-promise';\r\nimport { getTimeString } from '../utils.js';\r\n\r\nconst apieva = require('../apieva');\r\nconst osname = platform();\r\n\r\nclass Main_SendMoneys extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n        this.state = { target: ' ' };\r\n\r\n\t\tthis.params = { target: 0, count: 0 };\r\n\r\n\t\tthis.sendMoneys = apieva.makeAction('profile', 'sendMoneys', this.params, this, (a, b) => {\r\n\t\t\t//alert(JSON.stringify(b))\r\n\t\t\tif (!b.error) {\r\n\t\t\t\tthis.props.openSheet(<Alert\r\n\t        \t\tactions={[{ title: 'Ок', autoclose: true, }]}\r\n\t        \t\tonClose={() => { this.props.close(); this.props.openSheet(null); }}\r\n\t      \t\t>\r\n\t        \t\t<h2>Успех</h2>\r\n\t        \t\t<p>Вы успешно отправили биты на счет {b.nickname}</p>\r\n\t      \t\t</Alert>);\r\n\r\n\t\t\t\tthis.props.update();\r\n\t\t\t}else{\r\n\t\t\t\tthis.props.openSheet(<Alert\r\n\t\t\t\t\tactions={[{ title: 'Назад', autoclose: true, }]}\r\n\t\t\t\t\tonClose={() => { this.props.openSheet(null); }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<h2>Ошибка</h2>\r\n\t\t\t\t\t<p>{b.error}</p>\r\n\t\t\t\t</Alert>);\r\n\t\t\t}\r\n\t\t});\r\n\r\n        this.onTargetChange = (e) => {\r\n            const { value } = e.currentTarget;\r\n            if (value == '') return this.setState({ target: ' ' });\r\n            this.setState({ target: null, istarget: false });\r\n\r\n            let userScreenName = value;\r\n            if (userScreenName.includes('/')) {\r\n                let arr = userScreenName.split('/');\r\n                userScreenName = arr[arr.length - 1];\r\n            }\r\n\r\n            apieva.send('utils', 'getUser', { user_ids: userScreenName, fields: 'photo_200' }).then(r => {\r\n                //alert(r.data.response)\r\n                if (!r.data.error && r.data.response[0]) {\r\n                    let user = r.data.response[0];\r\n\t\t\t\t\tthis.params.target = user.id;\r\n\t\t\t\t\t//alert(JSON.stringify(this.params))\r\n                    this.setState({\r\n\t\t\t\t\t\tistarget: true,\r\n\t\t\t\t\t\ttarget: <Cell before={user.photo_200  ? <Avatar src={user.photo_200}/> : <Avatar>📷</Avatar>}>{`${user.first_name} ${user.last_name}`}</Cell>\r\n                    });\r\n                }\r\n                else {\r\n                    this.setState({ istarget: false, target: <Cell before={<Avatar>❓</Avatar>}>Пользователь не найден</Cell> });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Div>\r\n                <PanelHeader left={<HeaderButton onClick={this.props.close}>{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}</HeaderButton>}>\r\n                    💸 Отправить биты\r\n                </PanelHeader>\r\n                <Group title=\"Заполните информацию для отправки\">\r\n                    <FormLayout>\r\n                        <Input onChange={e => this.params.count = e.currentTarget.value} placeholder=\"Сколько отправить бит?\" />\r\n                        <Input onChange={this.onTargetChange} placeholder=\"Кому отправить биты?\" />\r\n                    </FormLayout>\r\n                </Group>\r\n                <Group>\r\n                    {this.state.target ? this.state.target : <Cell before={<Avatar><Spinner/></Avatar>}>Загрузка...</Cell>}\r\n\t\t\t\t\t{this.state.istarget==true ? <CellButton\r\n\t\t\t\t\t\tonClick={this.sendMoneys}\r\n\t\t\t\t\t\tsize=\"xl\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tОтправить биты\r\n\t\t\t\t\t</CellButton> : ''}\r\n                </Group>\r\n            </Div>\r\n    \t);\r\n\t}\r\n}\r\n\r\nMain_SendMoneys.propTypes = {\r\n\tuserToken: PropTypes.string.isRequired,\r\n\tfetchedUser: PropTypes.shape({\r\n\t\tphoto_200: PropTypes.string,\r\n\t\tfirst_name: PropTypes.string,\r\n\t\tlast_name: PropTypes.string\r\n\t}),\r\n};\r\n\r\nexport default Main_SendMoneys;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { Panel, ListItem, Button, ActionSheet, ActionSheetItem, Link, Group, Div, PullToRefresh, Avatar, PanelHeader, HeaderButton, platform, IOS, Cell, Spinner, View, CellButton, Progress } from '@vkontakte/vkui';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nimport Main_SendMoneys from './Main_SendMoneys';\r\n\r\nimport { numberWithCommas } from '../utils.js';\r\n\r\nconst apieva = require('../apieva');\r\nconst osname = platform();\r\n\r\nclass Home extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.openSheet = (popout) => this.setState({ popout });\r\n\t\tthis.onLoaded = this.onLoaded.bind(this);\r\n        this.onRefresh = apieva.makeOnRefresh('profile', 'get', {}, this, this.onLoaded.bind(this));\r\n\t\tthis.state = {\r\n\t\t\tcontent: null,\r\n            activePanel: \"main\",\r\n\t\t\tpopout: null,\r\n\t\t\tfetching: false\r\n\t\t};\r\n\r\n\t\t// Events\r\n\t\tthis.openBalance = () => this.openSheet(\r\n\t\t\t<ActionSheet onClose={() => this.openSheet(null)}>\r\n\t\t\t\t<ActionSheetItem autoclose onClick={() => this.setState({ activePanel: 'sendMoneys' })}>Перевести биты</ActionSheetItem>\r\n\t\t\t\t{osname === IOS && <ActionSheetItem autoclose theme=\"cancel\">Cancel</ActionSheetItem>}\r\n \t\t\t</ActionSheet>\r\n\t\t);\r\n     }\r\n\r\n    async onLoaded(fetchedUser, userProfile) {\r\n        this.setState({ content: (\r\n            <Cell>\r\n     \t\t\t<Group>\r\n     \t\t\t\t<Cell\r\n     \t\t        \tsize=\"l\"\r\n     \t\t          \tdescription={userProfile.nickname}\r\n     \t\t          \tbefore={fetchedUser.photo_200 ? <Avatar src={fetchedUser.photo_200}/> : null}\r\n     \t\t        >\r\n     \t\t        \t{`${fetchedUser.first_name} ${fetchedUser.last_name}`}\r\n     \t\t        </Cell>\r\n     \t\t\t</Group>\r\n     \t\t\t<Group>\r\n     \t\t\t\t<Cell onClick={this.openBalance} indicator={numberWithCommas(userProfile.balance) + \" бит\"} description={userProfile.job}>Баланс</Cell>\r\n     \t\t\t\t<Cell indicator={userProfile.level}>Уровень</Cell>\r\n     \t\t\t\t<Div><Progress value={userProfile.score/userProfile.maxScore*100} /></Div>\r\n\r\n     \t\t\t</Group>\r\n     \t\t</Cell>\r\n     \t), fetching: false });// <Cell indicator={userProfile.role}>Роль</Cell>\r\n     }\r\n\r\n\trender() {\r\n        if(!this.state.content && this.props.fetchedUser) apieva.cSend('profile', 'get', {}, this.props, this.onLoaded);\r\n\r\n        return (\r\n            <View activePanel={this.state.activePanel} popout={this.state.popout}>\r\n\t\t\t\t<Panel id='main'>\r\n\t\t\t\t\t<PanelHeader>👤 Мой профиль</PanelHeader>\r\n\t\t\t\t\t<PullToRefresh onRefresh={this.onRefresh} isFetching={this.state.fetching}>\r\n\t\t\t\t\t\t{this.state.content ? this.state.content : <Spinner size=\"large\" style={{ marginTop: 20 }} />}\r\n\t\t\t\t\t</PullToRefresh>\r\n                    <Cell>\r\n                        <Group title=\"Прочее\">\r\n                            <Link href=\"https://vk.com/@evarobotgroup-help-play-app\" target=\"_blank\"><CellButton size=\"xl\" level=\"outline\">Как играть?</CellButton></Link>\r\n                            <Link href=\"https://vk.me/evabottp\" target=\"_blank\"><CellButton size=\"xl\" level=\"outline\">Тех. поддержка</CellButton></Link>\r\n                            <Link href=\"https://vk.me/join/AAAAACNkOSYHHwx7BXja6x2c\" target=\"_blank\"><CellButton size=\"xl\" level=\"outline\">Официальная беседа бота</CellButton></Link>\r\n                        </Group>\r\n                    </Cell>\r\n\t\t\t\t</Panel>\r\n\t\t\t\t<Panel id='sendMoneys'><Main_SendMoneys\r\n\t\t\t\t\tclose={() => this.setState({ activePanel: 'main' })}\r\n\t\t\t\t\topenSheet={this.openSheet.bind(this)}\r\n\t\t\t\t\tuserToken={this.props.userToken}\r\n\t\t\t\t\tupdate={() => this.setState({content: null})}\r\n\t\t\t\t/></Panel>\r\n            </View>\r\n    \t);\r\n\t}\r\n}\r\n\r\nHome.propTypes = {\r\n\tuserToken: PropTypes.string.isRequired,\r\n\tfetchedUser: PropTypes.shape({\r\n\t\tphoto_200: PropTypes.string,\r\n\t\tfirst_name: PropTypes.string,\r\n\t\tlast_name: PropTypes.string\r\n\t}),\r\n};\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { Panel, ListItem, Alert, Button, Link, PullToRefresh, ScreenSpinner, Group, Div, Textarea, Avatar, PanelHeader, List, HeaderButton, platform, IOS, Cell, Spinner, View, CellButton, Progress } from '@vkontakte/vkui';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nimport persik from '../img/persik.png';\r\n//import './Persik.css';\r\n\r\nimport { getTimeString } from '../utils.js';\r\n\r\nconst apieva = require('../apieva');\r\nconst osname = platform();\r\n\r\nclass Pets_Pet extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n        this.feedAction = apieva.makeAction('pets', 'feed', { petId: this.props.id }, this, this.onLoaded.bind(this));\r\n        this.playAction = apieva.makeAction('pets', 'play', { petId: this.props.id }, this, this.onLoaded.bind(this));\r\n        this.wakeUpAction = apieva.makeAction('pets', 'wakeUp', { petId: this.props.id }, this, this.onLoaded.bind(this));\r\n        this.shelterAction = apieva.makeAction('pets', 'shelter', { petId: this.props.id }, this, this.onLoaded.bind(this));\r\n\r\n        this.openRestorePetSheet = this.openRestorePetSheet.bind(this);\r\n        this.onRefresh = this.onRefresh.bind(this);\r\n\r\n        this.state = { };\r\n    }\r\n\r\n    onRefresh() {\r\n    \tthis.setState({ fetching: true });\r\n\t\tapieva.cSend('pets', 'get', { petId: this.props.id }, this.props, this.onLoaded.bind(this));\r\n  \t}\r\n\r\n     openRestorePetSheet() {\r\n         this.props.openSheet(\r\n             <Alert\r\n                actionsLayout=\"vertical\"\r\n                actions={[{\r\n                    title: 'Восстановить',\r\n                    autoclose: true,\r\n                    action: () => apieva.cSend('pets', 'restore', { petId: this.props.id }, this.props, this.onLoaded.bind(this))\r\n                }, {\r\n                    title: 'Отмена',\r\n                    autoclose: true,\r\n                    style: 'cancel'\r\n                }]}\r\n                onClose={() => this.props.openSheet(null)}\r\n            >\r\n                <h2>Восстановить питомца</h2>\r\n                <p>Вы снова сможете любить и ухаживать за ним</p>\r\n            </Alert>\r\n    );\r\n  }\r\n\r\n\r\n     async onLoaded(fetchedUser, pet) {\r\n         this.isLoaded = true;\r\n        // alert(JSON.stringify(pet))\r\n         if (pet.error) {\r\n             this.props.openSheet(\r\n                <Alert actionsLayout=\"vertical\" actions={[{\r\n                        title: 'Назад',\r\n                        autoclose: true,\r\n                        style: 'cancel'\r\n                    }]}\r\n                    onClose={() => this.props.openSheet(null)}\r\n                >\r\n                    <h2>Произошла ошибка</h2>\r\n                    <p>{pet.error}</p>\r\n                </Alert>\r\n            );\r\n\r\n            return;\r\n         }\r\n\r\n         await apieva.initPets();\r\n         let petType = apieva.getPetType(pet.type);\r\n\r\n         let result = (\r\n            <Div>\r\n    \t\t\t<Group>\r\n    \t\t\t\t<Cell\r\n                        size=\"l\"\r\n                        before={<Avatar>{pet.died==0 ? petType.smile : '💀'}</Avatar>}\r\n                        description={pet.died==0 ? '' : `Умер ${getTimeString(pet.died)}.`}\r\n                        indicator={pet.issleep==0 ? '' : '💤'}\r\n                    >\r\n    \t\t        \t{pet.name}\r\n    \t\t        </Cell>\r\n                    {pet.died==0 ? (\r\n                        <Div>\r\n                            {pet.issleep==0 ? (\r\n                                <Div style={{display: 'flex'}}>\r\n                                    <Button size=\"l\" stretched style={{ marginRight: 8 }} onClick={this.playAction}>Поиграть</Button>\r\n                                    <Button size=\"l\" stretched level=\"secondary\" onClick={this.feedAction}>Покормить</Button>\r\n                                </Div>\r\n                            ) : (\r\n                                <Button size=\"xl\" level=\"outline\" onClick={this.wakeUpAction}>Разбудить</Button>\r\n                            )}\r\n                            {pet.owner==0 ? (<Button size=\"xl\" level=\"outline\" onClick={this.shelterAction}>Купить питомца</Button>) : ''}\r\n                        </Div>\r\n                    ) : ''}\r\n    \t\t\t</Group>\r\n    \t\t\t<Group title=\"Информация о питомце\">\r\n                    {\r\n                        pet.died==0 ? (\r\n                            <Div>\r\n                \t\t\t\t<Cell indicator={pet.hunger + '%'}>Сытость</Cell>\r\n                                <Progress value={Math.min(100, pet.hunger)} />\r\n\r\n                                <Cell indicator={pet.love + '%'}>Счастье</Cell>\r\n                                <Progress value={Math.min(100, pet.love)} />\r\n\r\n                                <Cell indicator={pet.energy + '%'}>Энергия</Cell>\r\n                                <Progress value={Math.min(100, pet.energy)} />\r\n                            </Div>\r\n                        ) : (\r\n                            <Div>\r\n                                <img className=\"DiedPet\" src={persik} alt=\"Died pet\"/>\r\n                                <Div>\r\n                                    <p>Ваш питомец умер, потому что вы его не кормили.</p>\r\n                                    <CellButton onClick={() => this.openRestorePetSheet()}>Восстановите питомца за 3 000 000 бит.</CellButton>\r\n                                </Div>\r\n                            </Div>\r\n                        )\r\n                    }\r\n    \t\t\t</Group>\r\n    \t\t</Div>\r\n     \t);\r\n\r\n     \tthis.setState({ content: result, fetching: false });\r\n     }\r\n\r\n\trender() {\r\n        if(!this.state.content) apieva.cSend('pets', 'get', { petId: this.props.id }, this.props, this.onLoaded.bind(this));\r\n\r\n    \treturn (\r\n            <Div>\r\n                <PanelHeader left={<HeaderButton onClick={this.props.close}>{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}</HeaderButton>}>\r\n                    {this.props.title}\r\n                </PanelHeader>\r\n                <PullToRefresh onRefresh={this.onRefresh} isFetching={this.state.fetching}>\r\n                    {this.state.content ? this.state.content : <Spinner size=\"large\" style={{ marginTop: 20 }} />}\r\n                </PullToRefresh>\r\n            </Div>\r\n    \t);\r\n\t}\r\n}\r\n\r\nPets_Pet.propTypes = {\r\n\ttitle: PropTypes.string.isRequired,\r\n\tfetchedUser: PropTypes.shape({\r\n\t\tphoto_200: PropTypes.string,\r\n\t\tfirst_name: PropTypes.string,\r\n\t\tlast_name: PropTypes.string\r\n\t}),\r\n};\r\n\r\nexport default Pets_Pet;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { Panel, ListItem, ActionSheetItem, ActionSheet, ScreenSpinner, Button, List, Alert, Link, Group, Div, PullToRefresh, Avatar, PanelHeader, HeaderButton, platform, IOS, Cell, Spinner, View, CellButton, Progress } from '@vkontakte/vkui';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nimport { getTimeString } from '../utils.js';\r\n\r\nconst apieva = require('../apieva');\r\nconst osname = platform();\r\n\r\nclass Pets_Shelder extends React.Component {\r\n    constructor(props) {\r\n\t\tsuper(props);\r\n\r\n        this.state = { };\r\n    }\r\n\r\n    getPets(petType) {\r\n        this.props.openSheet(<ScreenSpinner />);\r\n        apieva.send('pets', 'listFree', { petType: petType.id }).then((response) => {\r\n            let petList = response.data.map(pet => <ActionSheetItem autoclose onClick={() => this.props.openPet(pet, petType)}>{pet.name}</ActionSheetItem>);\r\n            this.props.openSheet(\r\n                <ActionSheet onClose={() => this.props.openSheet(null)}>\r\n                    {petList}\r\n                    {osname === IOS && <ActionSheetItem autoclose theme=\"cancel\">Закрыть</ActionSheetItem>}\r\n                </ActionSheet>\r\n            );\r\n        });\r\n    }\r\n\r\n\trender() {\r\n        let petTypeList = apieva.getPetTypes().map(type => (\r\n            <ListItem>\r\n                <Cell\r\n                    before={<Avatar>{type.smile}</Avatar>}\r\n                    onClick={() => this.getPets(type)}\r\n                >{type.mname}</Cell>\r\n            </ListItem>\r\n        ))\r\n\r\n    \treturn (\r\n            <Div>\r\n                <PanelHeader left={<HeaderButton onClick={this.props.close}>{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}</HeaderButton>}>\r\n                    🐶 Приют питомцев\r\n                </PanelHeader>\r\n                <Group title=\"Список доступных видов\"><List>{petTypeList}</List></Group>\r\n            </Div>\r\n    \t);\r\n\t}\r\n}\r\n\r\nPets_Shelder.propTypes = {\r\n\tfetchedUser: PropTypes.shape({\r\n\t\tphoto_200: PropTypes.string,\r\n\t\tfirst_name: PropTypes.string,\r\n\t\tlast_name: PropTypes.string\r\n\t}),\r\n};\r\n\r\nexport default Pets_Shelder;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { Panel, ListItem, Button, Link, Group, Div, PullToRefresh, Avatar, PanelHeader, HeaderButton, platform, IOS, Cell, Spinner, View, CellButton, Progress } from '@vkontakte/vkui';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport Icon24Add from '@vkontakte/icons/dist/24/add';\r\n\r\nimport Pets_Pet from './Pets_Pet';\r\nimport Pets_Shelder from './Pets_Shelder';\r\n\r\nimport { getTimeString } from '../utils.js';\r\n\r\nconst apieva = require('../apieva');\r\nconst osname = platform();\r\n\r\nclass Pets extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.openSheet = this.openSheet.bind(this);\r\n\t\tthis.onRefresh = apieva.makeOnRefresh('pets', 'list', {}, this, this.onLoaded.bind(this));\r\n\t\tthis.openPet = this.openPet.bind(this);\r\n\r\n\t\tthis.state = {\r\n\t\t\tcontent: null,\r\n            activePanel: \"main\",\r\n\t\t\tpopout: null,\r\n\t\t\tfetching: false\r\n\t\t};\r\n     }\r\n\r\n\topenPet(pet, petType) {\r\n\t\tthis.setState({\r\n\t\t\tactivePanel: 'pet',\r\n\t\t\tpetcontent: <Pets_Pet\r\n\t\t\t   id={pet.id}\r\n\t\t\t   title={`${petType.smile} ${pet.name}`}\r\n\t\t\t   close={() => this.setState({ activePanel: 'main' })}\r\n\t\t\t   openSheet = {(popout) => this.openSheet(popout)}\r\n\t\t   />\r\n\t\t});\r\n\t}\r\n\r\n     async onLoaded(fetchedUser, pets) {\r\n\t\t await apieva.initPets();\r\n\r\n         let petsHtml = [];\r\n         pets.forEach(pet => {\r\n\t\t\t let petType = apieva.getPetType(pet.type);\r\n             let petStats = (<Div style={{display: 'flex', padding: 0, margin: 0}}>\r\n                <Div stretched style={{padding: 7, margin: 0}}>🍗 {pet.hunger}%</Div>\r\n                <Div stretched style={{padding: 7, margin: 0}}>💖 {pet.love}%</Div>\r\n                <Div stretched style={{padding: 7, margin: 0}}>⚡ {pet.energy}%</Div>\r\n              </Div>);\r\n\r\n             petsHtml.push(\r\n                 <Cell\r\n                     before={<Avatar>{petType.smile}</Avatar>}\r\n                     size=\"l\"\r\n                     onClick={(e) => {\r\n\t\t\t\t\t\t this.setState({\r\n\t\t\t\t\t\t\t activePanel: 'pet',\r\n\t\t\t\t\t\t\t petcontent: <Pets_Pet\r\n\t\t\t\t\t\t\t \tid={pet.id}\r\n\t\t\t\t\t\t\t\ttitle={`${petType.smile} ${pet.name}`}\r\n\t\t\t\t\t\t\t\tclose={() => this.setState({ activePanel: 'main' })}\r\n\t\t\t\t\t\t\t\topenSheet = {(popout) => this.openSheet(popout)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t });\r\n\t\t\t\t\t }}\r\n\t\t\t\t\t indicator={pet.issleep==0 ? '' : '💤'}\r\n                     description={pet.died==0 ? petStats : `💀 Умер ${getTimeString(pet.died)}.`}\r\n                 >\r\n\t\t\t\t \t{pet.name}\r\n                 </Cell>\r\n             );\r\n         });\r\n\r\n\t\t /*\r\n\t\t\t <Group>\r\n\t\t\t\t <Link href=\"https://vk.com/@evarobotgroup-help-pets-app\" target=\"_blank\"><Button size=\"xl\" level=\"outline\">Что такое питомцы?</Button></Link>\r\n\t\t\t </Group>\r\n\t\t\t */\r\n\r\n     \tlet result = (\r\n     \t\t<Div>\r\n     \t\t\t<Group>\r\n                \t{petsHtml}\r\n\t\t\t\t\t<CellButton before={<Icon24Add />} onClick={(e) => {\r\n\t\t\t\t\t\tthis.setState({ activePanel: 'shelder' });\r\n\t\t\t\t\t}}>Завести питомца</CellButton>\r\n     \t\t\t</Group>\r\n     \t\t</Div>\r\n     \t);\r\n\r\n     \tthis.setState({ content: result, fetching: false });\r\n     }\r\n\r\n\t openSheet(popout) {\r\n\t\t this.setState({ popout });\r\n\t }\r\n\r\n\trender() {\r\n        if(!this.state.content) apieva.cSend('pets', 'list', { petId: this.props.id }, this.props, this.onLoaded.bind(this));\r\n\r\n    \treturn (\r\n            <View id=\"petsView\" activePanel={this.state.activePanel} popout={this.state.popout}>\r\n\t\t\t\t<Panel id='main'>\r\n\t\t\t\t\t<PanelHeader>🐾 Мои питомцы</PanelHeader>\r\n\t\t\t\t\t<PullToRefresh onRefresh={this.onRefresh} isFetching={this.state.fetching}>\r\n\t\t\t\t\t\t{this.state.content ? this.state.content : <Spinner size=\"large\" style={{ marginTop: 20 }} />}\r\n\t\t\t\t\t</PullToRefresh>\r\n\t\t\t\t</Panel>\r\n                <Panel id='pet'>{this.state.petcontent}</Panel>\r\n                <Panel id='shelder'><Pets_Shelder\r\n\t\t\t\t\tclose={() => this.setState({ activePanel: 'main' })}\r\n\t\t\t\t\topenSheet={this.openSheet.bind(this)}\r\n\t\t\t\t\topenPet={this.openPet}\r\n\t\t\t\t/></Panel>\r\n            </View>\r\n    \t);\r\n\t}\r\n}\r\n\r\nPets.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tfetchedUser: PropTypes.shape({\r\n\t\tphoto_200: PropTypes.string,\r\n\t\tfirst_name: PropTypes.string,\r\n\t\tlast_name: PropTypes.string\r\n\t}),\r\n};\r\n\r\nexport default Pets;\r\n","import React from 'react';\nimport connect from '@vkontakte/vkui-connect-promise';\nimport { View, Epic, Tabbar, TabbarItem } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Icon24User from '@vkontakte/icons/dist/24/user'; // Профиль\nimport Icon24Bug from '@vkontakte/icons/dist/24/bug'; // Питомцы\n\nimport Home from './panels/Home';\nimport Pets from './panels/Pets';\n/**\nimport Persik from './panels/Persik';\nimport Money from './panels/Money';\n*/\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactiveStory: 'main',\n\t\t\tfetchedUser: null,\n\t\t};\n\t\tthis.onStoryChange = this.onStoryChange.bind(this);\n     }\n\n\t parseQueryString = (string) => {\n\t   return string.slice(1).split('&')\n\t\t   .map((queryParam) => {\n\t\t\t   let kvp = queryParam.split('=');\n\t\t\t   return {key: kvp[0], value: kvp[1]}\n\t\t   })\n\t\t   .reduce((query, kvp) => {\n\t\t\t   query[kvp.key] = kvp.value;\n\t\t\t   return query\n\t\t   }, {})\n   };\n\n\n     onStoryChange (e) {\n       this.setState({ activeStory: e.currentTarget.dataset.story })\n     }\n\n\n\tcomponentDidMount() {\n\t\t// Fuck\n\t\t//connect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 6943334}).then( e => this.setState({ userToken: e.data.access_token }) );\n\t\tconnect.send('VKWebAppGetUserInfo', {}).then( e => this.setState({ fetchedUser: e.data }) );\n\t}\n\n\tgetItem = (tag, name, icon) => {\n\t\treturn (\n\t\t\t<TabbarItem\n\t        \tonClick={this.onStoryChange}\n\t            selected={this.state.activeStory === tag}\n\t            data-story={tag}\n\t            text={name}\n\t        >{icon}</TabbarItem>\n  \t\t);\n\t};\n\n\trender() {\n\t\treturn (\n      \t\t<Epic activeStory={this.state.activeStory} tabbar={\n        \t\t<Tabbar>\n\t\t\t\t\t{this.getItem(\"main\", \"Профиль\", <Icon24User />)}\n\t\t\t\t\t{this.getItem(\"pets\", \"Питомцы\", <Icon24Bug />)}\n        \t\t</Tabbar>\n      \t\t}>\n        \t\t<Home id=\"main\" userToken={this.state.userToken} fetchedUser={this.state.fetchedUser}/>\n        \t\t<Pets id=\"pets\" fetchedUser={this.state.fetchedUser} />\n      \t\t</Epic>\n  \t\t);\n\t}\n}\n\nexport default App;\n","import 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vkui-connect';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\nconnect.subscribe((e) => {\n   switch (e.detail.type) {\n       case 'VKWebAppUpdateConfig':\n           let schemeAttribute = document.createAttribute('scheme');\n           schemeAttribute.value = e.detail.data.scheme ? e.detail.data.scheme : 'client_light';\n           document.body.attributes.setNamedItem(schemeAttribute);\n           break;\n\n       default:\n           console.log(e.detail.type);\n   }\n});\n\n// Init VK App\nconnect.send('VKWebAppInit', {});\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n","import React from 'react';\r\nimport { ScreenSpinner } from '@vkontakte/vkui';\r\nimport axios from 'axios'\r\n\r\nlet petTypes;\r\n\r\nexport function send(group, method, params) {\r\n    return axios.get(`https://elektro-volk.ru/apieva/index.php?group=${group}&method=${method}&${window.location.search.substring(1)}`, { params });\r\n}\r\n\r\nexport function cSend(group, method, params, props, cb) {\r\n    send(group, method, params).then(r => cb(props.fetchedUser, r.data));\r\n}\r\n\r\nexport async function initPets() {\r\n    if (!petTypes) petTypes = (await send('pets', 'types')).data;\r\n    //alert(petTypes[0].mname)\r\n}\r\n\r\nexport function getPetType(typeId) {\r\n    return petTypes[typeId - 1];\r\n}\r\n\r\nexport function getPetTypes() {\r\n    return petTypes;\r\n}\r\n\r\nexport function makeAction(group, method, params, th, cb) {\r\n    return () => {\r\n        th.props.openSheet(<ScreenSpinner />);\r\n        cSend(group, method, params, th.props, (a, b) => { th.props.openSheet(null); cb(a, b) });\r\n    }\r\n}\r\n\r\nexport function makeOnRefresh(group, method, params, th, cb) {\r\n    return () => {\r\n        th.setState({ fetching: true });\r\n        cSend(group, method, params, th.props, (a, b) => { cb(a, b); th.setState({ fetching: false }) });\r\n    }\r\n}\r\n"],"sourceRoot":""}