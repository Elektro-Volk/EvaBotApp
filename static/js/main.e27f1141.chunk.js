(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{198:function(e,t,n){e.exports=n.p+"static/media/persik.695e98f0.png"},199:function(e,t,n){e.exports=n(455)},455:function(e,t,n){"use strict";n.r(t);n(200),n(225);var a=n(0),r=n.n(a),c=n(46),l=n.n(c),o=n(133),i=n.n(o),s=n(24),u=n(25),p=n(27),h=n(26),m=n(28),d=n(3),f=n(132),E=n(1),b=(n(433),n(194)),v=n.n(b),g=n(195),S=n.n(g),O=n(29),j=n.n(O),y=n(48),k=n(47),C=n.n(k),P=n(42),A=n.n(P);function I(e){var t=new Date(1e3*e),n=t.getFullYear(),a=["\u042f\u043d\u0432\u0430\u0440\u044f","\u0424\u0435\u0432\u0440\u0430\u043b\u044f","\u041c\u0430\u0440\u0442\u0430","\u0410\u043f\u0440\u0435\u043b\u044f","\u041c\u0430\u044f","\u0418\u044e\u043d\u044f","\u0418\u044e\u043b\u044f","\u0410\u0432\u0433\u0443\u0441\u0442\u0430","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u041e\u043a\u0442\u044f\u0431\u0440\u044f","\u041d\u043e\u044f\u0431\u0440\u044f","\u0414\u0435\u043a\u0430\u0431\u0440\u044f"][t.getMonth()];return e=t.getDate()+" "+a+" "+n}var w=n(77),L=Object(E.platform)(),x=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={target:" "},n.params={target:0,count:0},n.sendMoneys=w.makeAction("profile","sendMoneys",n.params,Object(d.a)(Object(d.a)(n)),function(e,t){t.error?n.props.openSheet(r.a.createElement(E.Alert,{actions:[{title:"\u041d\u0430\u0437\u0430\u0434",autoclose:!0}],onClose:function(){n.props.openSheet(null)}},r.a.createElement("h2",null,"\u041e\u0448\u0438\u0431\u043a\u0430"),r.a.createElement("p",null,t.error))):(n.props.openSheet(r.a.createElement(E.Alert,{actions:[{title:"\u041e\u043a",autoclose:!0}],onClose:function(){n.props.close(),n.props.openSheet(null)}},r.a.createElement("h2",null,"\u0423\u0441\u043f\u0435\u0445"),r.a.createElement("p",null,"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b\u0438 \u0431\u0438\u0442\u044b \u043d\u0430 \u0441\u0447\u0435\u0442 ",t.nickname))),n.props.update())}),n.onTargetChange=function(e){var t=e.currentTarget.value;if(""==t)return n.setState({target:" "});n.setState({target:null,istarget:!1});var a=t;if(a.includes("/")){var c=a.split("/");a=c[c.length-1]}w.send("utils","getUser",{user_ids:a,fields:"photo_200"}).then(function(e){if(!e.data.error&&e.data.response[0]){var t=e.data.response[0];n.params.target=t.id,n.setState({istarget:!0,target:r.a.createElement(E.Cell,{before:t.photo_200?r.a.createElement(E.Avatar,{src:t.photo_200}):r.a.createElement(E.Avatar,null,"\ud83d\udcf7")},"".concat(t.first_name," ").concat(t.last_name))})}else n.setState({istarget:!1,target:r.a.createElement(E.Cell,{before:r.a.createElement(E.Avatar,null,"\u2753")},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d")})})},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(E.Div,null,r.a.createElement(E.PanelHeader,{left:r.a.createElement(E.HeaderButton,{onClick:this.props.close},L===E.IOS?r.a.createElement(C.a,null):r.a.createElement(A.a,null))},"\ud83d\udcb8 \u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0431\u0438\u0442\u044b"),r.a.createElement(E.Group,{title:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438"},r.a.createElement(E.FormLayout,null,r.a.createElement(E.Input,{onChange:function(t){return e.params.count=t.currentTarget.value},placeholder:"\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0431\u0438\u0442?"}),r.a.createElement(E.Input,{onChange:this.onTargetChange,placeholder:"\u041a\u043e\u043c\u0443 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0431\u0438\u0442\u044b?"}))),r.a.createElement(E.Group,null,this.state.target?this.state.target:r.a.createElement(E.Cell,{before:r.a.createElement(E.Avatar,null,r.a.createElement(E.Spinner,null))},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."),1==this.state.istarget?r.a.createElement(E.CellButton,{onClick:this.sendMoneys,size:"xl"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0431\u0438\u0442\u044b"):""))}}]),t}(r.a.Component),T=n(77),R=Object(E.platform)(),D=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).openSheet=function(e){return n.setState({popout:e})},n.onLoaded=n.onLoaded.bind(Object(d.a)(Object(d.a)(n))),n.onRefresh=T.makeOnRefresh("profile","get",{},Object(d.a)(Object(d.a)(n)),n.onLoaded.bind(Object(d.a)(Object(d.a)(n)))),n.state={content:null,activePanel:"main",popout:null,fetching:!1},n.openBalance=function(){return n.openSheet(r.a.createElement(E.ActionSheet,{onClose:function(){return n.openSheet(null)}},r.a.createElement(E.ActionSheetItem,{autoclose:!0,onClick:function(){return n.setState({activePanel:"sendMoneys"})}},"\u041f\u0435\u0440\u0435\u0432\u0435\u0441\u0442\u0438 \u0431\u0438\u0442\u044b"),R===E.IOS&&r.a.createElement(E.ActionSheetItem,{autoclose:!0,theme:"cancel"},"Cancel")))},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"onLoaded",value:function(){var e=Object(y.a)(j.a.mark(function e(t,n){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({content:r.a.createElement(E.Cell,null,r.a.createElement(E.Group,null,r.a.createElement(E.Cell,{size:"l",description:n.nickname,before:t.photo_200?r.a.createElement(E.Avatar,{src:t.photo_200}):null},"".concat(t.first_name," ").concat(t.last_name))),r.a.createElement(E.Group,null,r.a.createElement(E.Cell,{onClick:this.openBalance,indicator:(a=n.balance,a.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" \u0431\u0438\u0442"),description:n.job},"\u0411\u0430\u043b\u0430\u043d\u0441"),r.a.createElement(E.Cell,{indicator:n.level},"\u0423\u0440\u043e\u0432\u0435\u043d\u044c"),r.a.createElement(E.Div,null,r.a.createElement(E.Progress,{value:n.score/n.maxScore*100})))),fetching:!1});case 1:case"end":return e.stop()}var a},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return!this.state.content&&this.props.fetchedUser&&T.cSend("profile","get",{},this.props,this.onLoaded),r.a.createElement(E.View,{activePanel:this.state.activePanel,popout:this.state.popout},r.a.createElement(E.Panel,{id:"main"},r.a.createElement(E.PanelHeader,null,"\ud83d\udc64 \u041c\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"),r.a.createElement(E.PullToRefresh,{onRefresh:this.onRefresh,isFetching:this.state.fetching},this.state.content?this.state.content:r.a.createElement(E.Spinner,{size:"large",style:{marginTop:20}})),r.a.createElement(E.Cell,null,r.a.createElement(E.Group,{title:"\u041f\u0440\u043e\u0447\u0435\u0435"},r.a.createElement(E.Link,{href:"https://vk.com/@evarobotgroup-help-play-app",target:"_blank"},r.a.createElement(E.CellButton,{size:"xl",level:"outline"},"\u041a\u0430\u043a \u0438\u0433\u0440\u0430\u0442\u044c?")),r.a.createElement(E.Link,{href:"https://vk.me/evabottp",target:"_blank"},r.a.createElement(E.CellButton,{size:"xl",level:"outline"},"\u0422\u0435\u0445. \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430")),r.a.createElement(E.Link,{href:"https://vk.me/join/AAAAACNkOSYHHwx7BXja6x2c",target:"_blank"},r.a.createElement(E.CellButton,{size:"xl",level:"outline"},"\u041e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0431\u0435\u0441\u0435\u0434\u0430 \u0431\u043e\u0442\u0430"))))),r.a.createElement(E.Panel,{id:"sendMoneys"},r.a.createElement(x,{close:function(){return e.setState({activePanel:"main"})},openSheet:this.openSheet.bind(this),userToken:this.props.userToken,update:function(){return e.setState({content:null})}})))}}]),t}(r.a.Component),B=n(197),z=n.n(B),U=n(198),_=n.n(U),G=n(77),H=Object(E.platform)(),M=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).feedAction=G.makeAction("pets","feed",{petId:n.props.id},Object(d.a)(Object(d.a)(n)),n.onLoaded.bind(Object(d.a)(Object(d.a)(n)))),n.playAction=G.makeAction("pets","play",{petId:n.props.id},Object(d.a)(Object(d.a)(n)),n.onLoaded.bind(Object(d.a)(Object(d.a)(n)))),n.wakeUpAction=G.makeAction("pets","wakeUp",{petId:n.props.id},Object(d.a)(Object(d.a)(n)),n.onLoaded.bind(Object(d.a)(Object(d.a)(n)))),n.shelterAction=G.makeAction("pets","shelter",{petId:n.props.id},Object(d.a)(Object(d.a)(n)),n.onLoaded.bind(Object(d.a)(Object(d.a)(n)))),n.openRestorePetSheet=n.openRestorePetSheet.bind(Object(d.a)(Object(d.a)(n))),n.onRefresh=n.onRefresh.bind(Object(d.a)(Object(d.a)(n))),n.state={},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"onRefresh",value:function(){this.setState({fetching:!0}),G.cSend("pets","get",{petId:this.props.id},this.props,this.onLoaded.bind(this))}},{key:"openRestorePetSheet",value:function(){var e=this;this.props.openSheet(r.a.createElement(E.Alert,{actionsLayout:"vertical",actions:[{title:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c",autoclose:!0,action:function(){return G.cSend("pets","restore",{petId:e.props.id},e.props,e.onLoaded.bind(e))}},{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,style:"cancel"}],onClose:function(){return e.props.openSheet(null)}},r.a.createElement("h2",null,"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0438\u0442\u043e\u043c\u0446\u0430"),r.a.createElement("p",null,"\u0412\u044b \u0441\u043d\u043e\u0432\u0430 \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u043b\u044e\u0431\u0438\u0442\u044c \u0438 \u0443\u0445\u0430\u0436\u0438\u0432\u0430\u0442\u044c \u0437\u0430 \u043d\u0438\u043c")))}},{key:"onLoaded",value:function(){var e=Object(y.a)(j.a.mark(function e(t,n){var a,c,l=this;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isLoaded=!0,!n.error){e.next=4;break}return this.props.openSheet(r.a.createElement(E.Alert,{actionsLayout:"vertical",actions:[{title:"\u041d\u0430\u0437\u0430\u0434",autoclose:!0,style:"cancel"}],onClose:function(){return l.props.openSheet(null)}},r.a.createElement("h2",null,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"),r.a.createElement("p",null,n.error))),e.abrupt("return");case 4:return e.next=6,G.initPets();case 6:a=G.getPetType(n.type),c=r.a.createElement(E.Div,null,r.a.createElement(E.Group,null,r.a.createElement(E.Cell,{size:"l",before:r.a.createElement(E.Avatar,null,0==n.died?a.smile:"\ud83d\udc80"),description:0==n.died?"":"\u0423\u043c\u0435\u0440 ".concat(I(n.died),"."),indicator:0==n.issleep?"":"\ud83d\udca4"},n.name),0==n.died?r.a.createElement(E.Div,null,0==n.issleep?r.a.createElement(E.Div,{style:{display:"flex"}},r.a.createElement(E.Button,{size:"l",stretched:!0,style:{marginRight:8},onClick:this.playAction},"\u041f\u043e\u0438\u0433\u0440\u0430\u0442\u044c"),r.a.createElement(E.Button,{size:"l",stretched:!0,level:"secondary",onClick:this.feedAction},"\u041f\u043e\u043a\u043e\u0440\u043c\u0438\u0442\u044c")):r.a.createElement(E.Button,{size:"xl",level:"outline",onClick:this.wakeUpAction},"\u0420\u0430\u0437\u0431\u0443\u0434\u0438\u0442\u044c"),0==n.owner?r.a.createElement(E.Button,{size:"xl",level:"outline",onClick:this.shelterAction},"\u041a\u0443\u043f\u0438\u0442\u044c \u043f\u0438\u0442\u043e\u043c\u0446\u0430"):""):""),r.a.createElement(E.Group,{title:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u0438\u0442\u043e\u043c\u0446\u0435"},0==n.died?r.a.createElement(E.Div,null,r.a.createElement(E.Cell,{indicator:n.hunger+"%"},"\u0421\u044b\u0442\u043e\u0441\u0442\u044c"),r.a.createElement(E.Progress,{value:Math.min(100,n.hunger)}),r.a.createElement(E.Cell,{indicator:n.love+"%"},"\u0421\u0447\u0430\u0441\u0442\u044c\u0435"),r.a.createElement(E.Progress,{value:Math.min(100,n.love)}),r.a.createElement(E.Cell,{indicator:n.energy+"%"},"\u042d\u043d\u0435\u0440\u0433\u0438\u044f"),r.a.createElement(E.Progress,{value:Math.min(100,n.energy)})):r.a.createElement(E.Div,null,r.a.createElement("img",{className:"DiedPet",src:_.a,alt:"Died pet"}),r.a.createElement(E.Div,null,r.a.createElement("p",null,"\u0412\u0430\u0448 \u043f\u0438\u0442\u043e\u043c\u0435\u0446 \u0443\u043c\u0435\u0440, \u043f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e \u0432\u044b \u0435\u0433\u043e \u043d\u0435 \u043a\u043e\u0440\u043c\u0438\u043b\u0438."),r.a.createElement(E.CellButton,{onClick:function(){return l.openRestorePetSheet()}},"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u043f\u0438\u0442\u043e\u043c\u0446\u0430 \u0437\u0430 3 000 000 \u0431\u0438\u0442."))))),this.setState({content:c,fetching:!1});case 9:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.content||G.cSend("pets","get",{petId:this.props.id},this.props,this.onLoaded.bind(this)),r.a.createElement(E.Div,null,r.a.createElement(E.PanelHeader,{left:r.a.createElement(E.HeaderButton,{onClick:this.props.close},H===E.IOS?r.a.createElement(C.a,null):r.a.createElement(A.a,null))},this.props.title),r.a.createElement(E.PullToRefresh,{onRefresh:this.onRefresh,isFetching:this.state.fetching},this.state.content?this.state.content:r.a.createElement(E.Spinner,{size:"large",style:{marginTop:20}})))}}]),t}(r.a.Component),F=n(77),V=Object(E.platform)(),K=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"getPets",value:function(e){var t=this;this.props.openSheet(r.a.createElement(E.ScreenSpinner,null)),F.send("pets","listFree",{petType:e.id}).then(function(n){var a=n.data.map(function(n){return r.a.createElement(E.ActionSheetItem,{autoclose:!0,onClick:function(){return t.props.openPet(n,e)}},n.name)});t.props.openSheet(r.a.createElement(E.ActionSheet,{onClose:function(){return t.props.openSheet(null)}},a,V===E.IOS&&r.a.createElement(E.ActionSheetItem,{autoclose:!0,theme:"cancel"},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")))})}},{key:"render",value:function(){var e=this,t=F.getPetTypes().map(function(t){return r.a.createElement(E.ListItem,null,r.a.createElement(E.Cell,{before:r.a.createElement(E.Avatar,null,t.smile),onClick:function(){return e.getPets(t)}},t.mname))});return r.a.createElement(E.Div,null,r.a.createElement(E.PanelHeader,{left:r.a.createElement(E.HeaderButton,{onClick:this.props.close},V===E.IOS?r.a.createElement(C.a,null):r.a.createElement(A.a,null))},"\ud83d\udc36 \u041f\u0440\u0438\u044e\u0442 \u043f\u0438\u0442\u043e\u043c\u0446\u0435\u0432"),r.a.createElement(E.Group,{title:"\u0421\u043f\u0438\u0441\u043e\u043a \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0432\u0438\u0434\u043e\u0432"},r.a.createElement(E.List,null,t)))}}]),t}(r.a.Component),N=n(77),W=(Object(E.platform)(),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).openSheet=n.openSheet.bind(Object(d.a)(Object(d.a)(n))),n.onRefresh=N.makeOnRefresh("pets","list",{},Object(d.a)(Object(d.a)(n)),n.onLoaded.bind(Object(d.a)(Object(d.a)(n)))),n.openPet=n.openPet.bind(Object(d.a)(Object(d.a)(n))),n.state={content:null,activePanel:"main",popout:null,fetching:!1},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"openPet",value:function(e,t){var n=this;this.setState({activePanel:"pet",petcontent:r.a.createElement(M,{id:e.id,title:"".concat(t.smile," ").concat(e.name),close:function(){return n.setState({activePanel:"main"})},openSheet:function(e){return n.openSheet(e)}})})}},{key:"onLoaded",value:function(){var e=Object(y.a)(j.a.mark(function e(t,n){var a,c,l=this;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.initPets();case 2:a=[],n.forEach(function(e){var t=N.getPetType(e.type),n=r.a.createElement(E.Div,{style:{display:"flex",padding:0,margin:0}},r.a.createElement(E.Div,{stretched:!0,style:{padding:7,margin:0}},"\ud83c\udf57 ",e.hunger,"%"),r.a.createElement(E.Div,{stretched:!0,style:{padding:7,margin:0}},"\ud83d\udc96 ",e.love,"%"),r.a.createElement(E.Div,{stretched:!0,style:{padding:7,margin:0}},"\u26a1 ",e.energy,"%"));a.push(r.a.createElement(E.Cell,{before:r.a.createElement(E.Avatar,null,t.smile),size:"l",onClick:function(n){l.setState({activePanel:"pet",petcontent:r.a.createElement(M,{id:e.id,title:"".concat(t.smile," ").concat(e.name),close:function(){return l.setState({activePanel:"main"})},openSheet:function(e){return l.openSheet(e)}})})},indicator:0==e.issleep?"":"\ud83d\udca4",description:0==e.died?n:"\ud83d\udc80 \u0423\u043c\u0435\u0440 ".concat(I(e.died),".")},e.name))}),c=r.a.createElement(E.Div,null,r.a.createElement(E.Group,null,a,r.a.createElement(E.CellButton,{before:r.a.createElement(z.a,null),onClick:function(e){l.setState({activePanel:"shelder"})}},"\u0417\u0430\u0432\u0435\u0441\u0442\u0438 \u043f\u0438\u0442\u043e\u043c\u0446\u0430"))),this.setState({content:c,fetching:!1});case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"openSheet",value:function(e){this.setState({popout:e})}},{key:"render",value:function(){var e=this;return this.state.content||N.cSend("pets","list",{petId:this.props.id},this.props,this.onLoaded.bind(this)),r.a.createElement(E.View,{id:"petsView",activePanel:this.state.activePanel,popout:this.state.popout},r.a.createElement(E.Panel,{id:"main"},r.a.createElement(E.PanelHeader,null,"\ud83d\udc3e \u041c\u043e\u0438 \u043f\u0438\u0442\u043e\u043c\u0446\u044b"),r.a.createElement(E.PullToRefresh,{onRefresh:this.onRefresh,isFetching:this.state.fetching},this.state.content?this.state.content:r.a.createElement(E.Spinner,{size:"large",style:{marginTop:20}}))),r.a.createElement(E.Panel,{id:"pet"},this.state.petcontent),r.a.createElement(E.Panel,{id:"shelder"},r.a.createElement(K,{close:function(){return e.setState({activePanel:"main"})},openSheet:this.openSheet.bind(this),openPet:this.openPet})))}}]),t}(r.a.Component)),J=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).parseQueryString=function(e){return e.slice(1).split("&").map(function(e){var t=e.split("=");return{key:t[0],value:t[1]}}).reduce(function(e,t){return e[t.key]=t.value,e},{})},n.getItem=function(e,t,a){return r.a.createElement(E.TabbarItem,{onClick:n.onStoryChange,selected:n.state.activeStory===e,"data-story":e,text:t},a)},n.state={activeStory:"main",fetchedUser:null},n.onStoryChange=n.onStoryChange.bind(Object(d.a)(Object(d.a)(n))),n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"onStoryChange",value:function(e){this.setState({activeStory:e.currentTarget.dataset.story})}},{key:"componentDidMount",value:function(){var e=this;f.a.send("VKWebAppGetUserInfo",{}).then(function(t){return e.setState({fetchedUser:t.data})})}},{key:"render",value:function(){return r.a.createElement(E.Epic,{activeStory:this.state.activeStory,tabbar:r.a.createElement(E.Tabbar,null,this.getItem("main","\u041f\u0440\u043e\u0444\u0438\u043b\u044c",r.a.createElement(v.a,null)),this.getItem("pets","\u041f\u0438\u0442\u043e\u043c\u0446\u044b",r.a.createElement(S.a,null)))},r.a.createElement(D,{id:"main",userToken:this.state.userToken,fetchedUser:this.state.fetchedUser}),r.a.createElement(W,{id:"pets",fetchedUser:this.state.fetchedUser}))}}]),t}(r.a.Component);i.a.subscribe(function(e){switch(e.detail.type){case"VKWebAppUpdateConfig":var t=document.createAttribute("scheme");t.value=e.detail.data.scheme?e.detail.data.scheme:"client_light",document.body.attributes.setNamedItem(t);break;default:console.log(e.detail.type)}}),i.a.send("VKWebAppInit",{}),l.a.render(r.a.createElement(J,null),document.getElementById("root"))},77:function(e,t,n){"use strict";n.r(t),n.d(t,"send",function(){return h}),n.d(t,"cSend",function(){return m}),n.d(t,"initPets",function(){return d}),n.d(t,"getPetType",function(){return E}),n.d(t,"getPetTypes",function(){return b}),n.d(t,"makeAction",function(){return v}),n.d(t,"makeOnRefresh",function(){return g});var a,r=n(29),c=n.n(r),l=n(48),o=n(0),i=n.n(o),s=n(1),u=n(196),p=n.n(u);function h(e,t,n){return p.a.get("https://elektro-volk.ru/apieva/index.php?group=".concat(e,"&method=").concat(t,"&").concat(window.location.search.substring(1)),{params:n})}function m(e,t,n,a,r){h(e,t,n).then(function(e){return r(a.fetchedUser,e.data)})}function d(){return f.apply(this,arguments)}function f(){return(f=Object(l.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=4;break}return e.next=3,h("pets","types");case 3:a=e.sent.data;case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function E(e){return a[e-1]}function b(){return a}function v(e,t,n,a,r){return function(){a.props.openSheet(i.a.createElement(s.ScreenSpinner,null)),m(e,t,n,a.props,function(e,t){a.props.openSheet(null),r(e,t)})}}function g(e,t,n,a,r){return function(){a.setState({fetching:!0}),m(e,t,n,a.props,function(e,t){r(e,t),a.setState({fetching:!1})})}}}},[[199,1,2]]]);
//# sourceMappingURL=main.e27f1141.chunk.js.map